<!DOCTYPE html>
<html>
<head>
    <title>Inspect System - Highball</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="{{THEME_CSS_PATH}}">
    <script src="/static/htmx.min.js"></script>
    <script src="/static/nav.js"></script>
    <script src="/static/network-scan.js"></script>
    <script src="/static/backup-browser.js"></script>
    <!-- logs-viewer.js removed - replaced with HTMX -->
</head>
<body>
    <div class="container">
        <div id="navigation"></div>
        
        <h1>Inspect System</h1>
        
        <!-- Network Scanner Container -->
        <div class="section-container">
            <h2 class="section-header">Network Scanner</h2>
            <p>Scan your network for available rsync servers and their modules.</p>
            <input type="text" id="networkRange" placeholder="192.168.1.0/24" class="w-150">
            <div class="mt-15">
                <button id="scanNetwork" class="button button-warning">Scan Network for Rsync Servers</button>
            </div>
            <div id="scanResults" class="hidden mt-15">
                <h4>Found Rsync Servers:</h4>
                <div id="scanOutput" class="code-container log-container" style="height: 200px;"></div>
            </div>
        </div>
        
        {{INCLUDE:restic_browser.html}}
        
        <!-- Log Sources Container -->
        <div class="section-container">
            <h2 class="section-header">Log Sources</h2>
            {{LOG_BUTTONS}}
            
            <div class="log-section">
                <label for="jobSelect">Job Logs:</label>
                <select id="jobSelect" 
                        hx-get="/logs" 
                        hx-trigger="change"
                        hx-target="#logContent"
                        hx-swap="innerHTML"
                        hx-vals="js:{job: event.target.value || ''}"
                        name="job">
                    {{JOB_DROPDOWN}}
                </select>
            </div>
            
            <div class="log-section">
                <button class="button" 
                        hx-get="/logs" 
                        hx-target="#logContent" 
                        hx-swap="innerHTML">Refresh</button>
                <button class="button button-warning" 
                        hx-post="/htmx/clear-logs" 
                        hx-target="#logContent" 
                        hx-swap="outerHTML">Clear Display</button>
            </div>
            
            <h3>{{LOG_NAME}}</h3>
            <div id="logContent" class="log-viewer">{{LOG_CONTENT}}</div>
        </div>
    </div>
</body>
</html>
