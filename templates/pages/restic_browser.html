<!-- Backup Browser Component -->
<div class="section-container">
    <h2 class="section-header">Backup Browser</h2>
    <p>Browse and restore files from backup jobs.</p>
    
    {{ job_types_js }}
    <select id="backupJobSelect" onchange="loadBackupJob()">
        <option value="">Select any backup job...</option>
        {{ backup_job_dropdown }}
    </select>
    
    <div id="browserContent" class="hidden backup-browser">
        <div id="repositoryInfo" class="help-text">
            <!-- Repository/job information will be displayed here -->
        </div>
        
        <div id="snapshotSection" class="hidden">
            <h3 id="snapshotSectionTitle">Select Snapshot/Archive:</h3>
            <select id="snapshotSelect" onchange="loadSnapshotDetails()">
                <option value="">Select a snapshot...</option>
            </select>
        </div>
        
        <div id="snapshotDetails" class="hidden snapshot-details">
            <h4 id="snapshotDetailsTitle">Details</h4>
            <div id="snapshotInfo"></div>
        </div>
        
        <div id="fileTree" class="hidden file-tree">
            <h3>File Browser</h3>
            <div id="selectionInfo" class="selection-info hidden">
                <span id="selectionCount">0 items selected</span>
                <button onclick="clearSelection()" class="button button-warning">Clear Selection</button>
            </div>
            <div style="display: flex; gap: 10px;">
                <div id="treeContainer" class="tree-container">
                    <!-- File tree will be populated here -->
                </div>
                <div id="selectionPane" class="selection-pane">
                    <div class="selection-header">Selected Items</div>
                    <div id="selectionList">
                        <div style="text-align: center; color: var(--text-muted); font-style: italic;">No items selected</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="browserError" class="hidden error-message">
            <!-- Error messages will be displayed here -->
        </div>
    </div>
</div>