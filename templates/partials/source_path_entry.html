<div class="path-entry" data-path-index="{{ path_index }}">
    <div class="path-group">
        <h3 class="path-header">
            <span>Source Path {{ path_index + 1 }}</span>
            {% if path_index > 0 %}
            <button type="button" class="button button-danger path-remove-btn" 
                    hx-post="/htmx/remove-source-path" 
                    hx-target="closest .path-entry"
                    hx-swap="outerHTML"
                    hx-vals='{"path_index": "{{ path_index }}"}'>
                Remove
            </button>
            {% endif %}
        </h3>
        
        <div class="form-group">
            <label for="source_path_{{ path_index }}">Path:</label>
            <input type="text" id="source_path_{{ path_index }}" name="source_paths[]" 
                   value="{{ path_value }}" placeholder="/path/to/backup">
            <div class="path-validation-row">
                <button type="button" class="validate-path-btn button button-secondary" 
                        hx-post="/htmx/validate-source-path" 
                        hx-target="#path_validation_{{ path_index }}"
                        hx-vals='{"path_index": "{{ path_index }}"}'
                        hx-include="#source_path_{{ path_index }}, [name='source_ssh_hostname'], [name='source_ssh_username']">
                    Validate Path
                </button>
                <div id="path_validation_{{ path_index }}" class="path-validation-result">{{ validation_result | safe }}</div>
            </div>
        </div>
        
        <div class="form-group">
            <label for="source_includes_{{ path_index }}">Include Patterns (optional):</label>
            <textarea id="source_includes_{{ path_index }}" name="source_includes[]" 
                      placeholder="**/*.jpg&#10;documents/**&#10;config.ini">{{ includes_value }}</textarea>
            <div class="help-text">
                Glob patterns for files to include. Leave empty to include all files.
            </div>
        </div>
        
        <div class="form-group">
            <label for="source_excludes_{{ path_index }}">Exclude Patterns (optional):</label>
            <textarea id="source_excludes_{{ path_index }}" name="source_excludes[]" 
                      placeholder="**/*.tmp&#10;cache/**&#10;*.log">{{ excludes_value }}</textarea>
            <div class="help-text">
                Glob patterns for files to exclude from backup.
            </div>
        </div>
    </div>
</div>