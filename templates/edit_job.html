<!DOCTYPE html>
<html>
<head>
    <title>Edit Backup Job - Backup Manager</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="/static/nav.js"></script>
</head>
<body>
    <div class="container">
        <div id="navigation"></div>
        
        <h1>Edit Backup Job: {{JOB_NAME}}</h1>
        
        <div class="alert alert-info">
            <strong>Note:</strong> To change source/destination configuration, delete this job and create a new one with the desired settings.
        </div>
        
        <form method="post" action="/save-job">
            <input type="hidden" name="job_name" value="{{JOB_NAME}}">
            <input type="hidden" name="source_type" value="{{SOURCE_TYPE}}">
            <input type="hidden" name="dest_type" value="{{DEST_TYPE}}">
            {{HIDDEN_CONFIG_FIELDS}}
            
            <div class="form-group">
                <label>Current Source:</label>
                <div style="background-color: #3a3a3a; padding: 12px; border-radius: 4px; font-family: monospace;">
                    {{SOURCE_DISPLAY}}
                </div>
            </div>
            
            <div class="form-group">
                <label>Current Destination:</label>
                <div style="background-color: #3a3a3a; padding: 12px; border-radius: 4px; font-family: monospace;">
                    {{DEST_DISPLAY}}
                </div>
            </div>
            
            <div class="form-group">
                <label for="includes">Include Patterns (one per line):</label>
                <textarea id="includes" name="includes" placeholder="Leave empty to include everything">{{INCLUDES}}</textarea>
                <div class="help-text">Use rsync patterns. Leave empty to include all files.</div>
            </div>
            
            <div class="form-group">
                <label for="excludes">Exclude Patterns (one per line):</label>
                <textarea id="excludes" name="excludes" placeholder="Patterns to exclude">{{EXCLUDES}}</textarea>
                <div class="help-text">Use rsync patterns to exclude files/directories.</div>
            </div>
            
            <div class="form-group">
                <label for="schedule">Schedule:</label>
                <select id="schedule" name="schedule">
                    <option value="manual">Manual Only</option>
                    <option value="daily">Daily</option>
                    <option value="weekly">Weekly</option>
                    <option value="monthly">Monthly</option>
                </select>
                <script>
                    document.getElementById('schedule').value = '{{SCHEDULE}}';
                </script>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" name="enabled" value="true" {{ENABLED_CHECKED}}> Enabled
                </label>
            </div>
            
            <input type="submit" value="Update Backup Job" class="button button-success">
            <a href="/" class="button" style="background-color: #6c757d;">Cancel</a>
        </form>
        
        <form method="post" action="/delete-job" style="margin-top: 20px;" onsubmit="return confirm('Are you sure you want to delete this backup job?')">
            <input type="hidden" name="job_name" value="{{JOB_NAME}}">
            <input type="submit" value="Delete Job" class="button button-danger">
        </form>
    </div>
</body>
</html>
